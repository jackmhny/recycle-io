<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Recycle Hole</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/nipplejs@0.10.2/dist/nipplejs.min.js"></script>
    <script type="module" defer src="src/main.js"></script>
  </head>
  <body>
    <div id="hud">
      <div class="hud-left">
        <div class="hud-line"><span class="label">Time</span><span id="time">60</span></div>
        <div class="hud-line"><span class="label">Score</span><span id="score">0</span></div>
      </div>
      <div class="hud-right">
        <div id="accessibility-menu">
          <button id="accessibility-button" type="button" aria-expanded="false" aria-controls="accessibility-panel">Accessibility</button>
          <div id="accessibility-panel" role="menu" aria-label="Accessibility options">
            <label for="tts-toggle" class="toggle-row">
              <input type="checkbox" id="tts-toggle" />
              <span>Audio cues (TTS + ding)</span>
            </label>
            <p class="accessibility-help">Reads bin switches, plays a pickup ding, and announces game over with your score.</p>
          </div>
        </div>
        <button id="restart">Restart</button>
      </div>
    </div>
    <canvas id="game"></canvas>
    <div id="mascot-callout">
      <img src="assets/davis_green_frog.webp" alt="Davis mascot encourages you to clean up." />
      <div id="speech-bubble"></div>
    </div>
    <div id="start-screen">
      <div class="start-panel">
        <h1>Clean up Davis!</h1>
        <p class="intro-copy">Roll each bin around town and drop the right items into it. Press the space bar to swap between bins.</p>
        <div class="bin-guide">
          <div class="bin-card">
            <img src="assets/player/trashcan_hole.webp" alt="Black trash bin" class="bin-image">
            <div class="bin-info">
              <h2>Trash</h2>
              <p>Landfill items: chip bags, plastic utensils, broken odds and ends.</p>
              <div class="bin-examples" aria-label="Trash bin example items">
                <img src="assets/trash/plastic_bags/bag1.webp" alt="Plastic bag icon" class="bin-example">
                <img src="assets/trash/food_wrappers/candy2.webp" alt="Food wrapper icon" class="bin-example">
                <img src="assets/trash/coffee_cups/coffee2.webp" alt="Coffee cup icon" class="bin-example">
              </div>
            </div>
          </div>
          <div class="bin-card">
            <img src="assets/player/paperbin.webp" alt="Dark blue paper bin" class="bin-image">
            <div class="bin-info">
              <h2>Paper Recycling</h2>
              <p>Dry paper and cardboard like newspapers, mailers, and cereal boxes.</p>
              <div class="bin-examples" aria-label="Paper recycling example items">
                <img src="assets/trash/newspapers/news1.webp" alt="Newspaper icon" class="bin-example">
                <img src="assets/trash/newspapers/news5.webp" alt="Folded newspaper icon" class="bin-example">
              </div>
            </div>
          </div>
          <div class="bin-card">
            <img src="assets/player/bottlecanbin.webp" alt="Light blue bottles and cans bin" class="bin-image">
            <div class="bin-info">
              <h2>Bottles &amp; Cans</h2>
              <p>Empty glass, metal, and plastic drink containers that can be rinsed.</p>
              <div class="bin-examples" aria-label="Bottle and can example items">
                <img src="assets/trash/bottles/bottles1.webp" alt="Plastic bottle icon" class="bin-example">
                <img src="assets/trash/cans/cans4.webp" alt="Soda can icon" class="bin-example">
              </div>
            </div>
          </div>
          <div class="bin-card">
            <img src="assets/player/organicbin.webp" alt="Green compost bin" class="bin-image">
            <div class="bin-info">
              <h2>Compost</h2>
              <p>Food scraps and yard waste: fruit peels, coffee grounds, wilted plants.</p>
              <div class="bin-examples" aria-label="Compost example items">
                <img src="assets/trash/fruit_peels/banana.webp" alt="Banana peel icon" class="bin-example">
                <img src="assets/trash/fruit_peels/orange.webp" alt="Orange peel icon" class="bin-example">
              </div>
            </div>
          </div>
        </div>
        <button id="start-button">Start Game</button>
      </div>
    </div>
    <div id="game-over-screen" style="display: none;">
      <h1>Game Over</h1>
      <p>Final Score: <span id="final-score">0</span></p>
      <button id="game-over-restart">Restart</button>
    </div>
    <button id="mobile-bin-switch" type="button" aria-label="Switch bin type">Switch Bin</button>
    <div id="joystick-zone" style="position: fixed; bottom: 50px; right: 50px; width: 150px; height: 150px; z-index: 10;"></div>
  </body>
  </html>
